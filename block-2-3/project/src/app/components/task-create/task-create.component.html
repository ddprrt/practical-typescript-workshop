<div class="container mx-auto p-4">
    <div class="max-w-2xl mx-auto">
        <h1 class="text-2xl font-bold mb-6">Create New Task</h1>

        <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="space-y-6">
            <div>
                <label
                    for="title"
                    class="block text-sm font-medium text-gray-700"
                    >Title</label
                >
                <input
                    type="text"
                    id="title"
                    formControlName="title"
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                    [ngClass]="{
                        'border-red-500':
                            taskForm.get('title')?.invalid &&
                            taskForm.get('title')?.touched,
                    }"
                />
                <div
                    *ngIf="
                        taskForm.get('title')?.invalid &&
                        taskForm.get('title')?.touched
                    "
                    class="text-red-500 text-sm mt-1"
                >
                    <span *ngIf="taskForm.get('title')?.errors?.['required']"
                        >Title is required</span
                    >
                    <span *ngIf="taskForm.get('title')?.errors?.['minlength']"
                        >Title must be at least 3 characters</span
                    >
                </div>
            </div>

            <div>
                <label
                    for="description"
                    class="block text-sm font-medium text-gray-700"
                    >Description</label
                >
                <textarea
                    id="description"
                    formControlName="description"
                    rows="4"
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                    [ngClass]="{
                        'border-red-500':
                            taskForm.get('description')?.invalid &&
                            taskForm.get('description')?.touched,
                    }"
                ></textarea>
                <div
                    *ngIf="
                        taskForm.get('description')?.invalid &&
                        taskForm.get('description')?.touched
                    "
                    class="text-red-500 text-sm mt-1"
                >
                    <span
                        *ngIf="
                            taskForm.get('description')?.errors?.['required']
                        "
                        >Description is required</span
                    >
                    <span
                        *ngIf="
                            taskForm.get('description')?.errors?.['minlength']
                        "
                        >Description must be at least 10 characters</span
                    >
                </div>
            </div>

            <div>
                <label
                    for="priority"
                    class="block text-sm font-medium text-gray-700"
                    >Priority</label
                >
                <select
                    id="priority"
                    formControlName="priority"
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                >
                    <option
                        *ngFor="let priority of taskPriorities"
                        [value]="priority"
                    >
                        {{ priority }}
                    </option>
                </select>
            </div>

            <div>
                <label
                    for="status"
                    class="block text-sm font-medium text-gray-700"
                    >Status</label
                >
                <select
                    id="status"
                    formControlName="status"
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                >
                    <option
                        *ngFor="let status of taskStatuses"
                        [value]="status"
                    >
                        {{ status }}
                    </option>
                </select>
            </div>

            <div class="flex justify-between">
                <button
                    type="button"
                    routerLink="/"
                    class="inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"
                >
                    Cancel
                </button>
                <button
                    type="submit"
                    [disabled]="taskForm.invalid"
                    class="inline-flex justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    Create Task
                </button>
            </div>
        </form>
    </div>
</div>
